(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[2],{104:function(t,e,n){t.exports={wrapper:"HomePage_wrapper__AWVb6",loadMore:"HomePage_loadMore__Y-q5R"}},110:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return _}));var a=n(68),r=n(57),c=n.n(r),i=n(58),o=n(62),s=n(63),u=n(65),p=n(64),l=n(18),d=n(66),f=n(69),g=n(0),v=n(17),h=n(60),m=n(104),b=n.n(m),j=n(1),_=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={movies:[],loading:!0,page:1},t.handleLoadMore=function(){t.setState((function(t){return{page:t.page+1,loading:!0}}))},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=Object(i.a)(c.a.mark((function t(){var e=this;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(h.g)(this.state.page).then((function(t){e.setState({movies:t.results,loading:!1})}));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=Object(i.a)(c.a.mark((function t(){var e=this;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.state.loading){t.next=3;break}return t.next=3,Object(h.g)(this.state.page).then((function(t){if(0===t.results.length)return v.b.error("\u0422\u0443\u0442 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442!");console.log(t),e.setState((function(e){return{movies:[].concat(Object(a.a)(e.movies),Object(a.a)(t.results))}}))})).catch((function(t){if(t)return v.b.error("\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435")})).finally(this.setState({loading:!1}));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state,e=t.movies,n=t.loading;return Object(j.jsxs)(j.Fragment,{children:[e.length>0&&Object(j.jsxs)("div",{className:b.a.wrapper,children:[Object(j.jsx)(f.a,{movies:e}),e.length>0&&Object(j.jsx)(d.a,{loadMore:this.handleLoadMore})]}),n&&Object(j.jsx)(l.a,{})]})}}]),n}(g.Component)},59:function(t,e,n){t.exports={list:"MoviesList_list__1lRBZ",item:"MoviesList_item__1Rt4r",overlay:"MoviesList_overlay__2dKJp",overlayBox:"MoviesList_overlayBox__igveO",image:"MoviesList_image__1405t",rating:"MoviesList_rating__3Fyds",name:"MoviesList_name__Pf9ZE"}},60:function(t,e,n){"use strict";n.d(e,"g",(function(){return p})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return g})),n.d(e,"f",(function(){return h})),n.d(e,"a",(function(){return b})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return x}));var a=n(57),r=n.n(a),c=n(58),i=n(72),o=n.n(i),s="https://api.themoviedb.org/3",u="4a16861085f8455514b0cadf3b11771d";function p(){return l.apply(this,arguments)}function l(){return l=Object(c.a)(r.a.mark((function t(){var e,n,a,c=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:1,t.next=3,o.a.get("".concat(s,"/trending/all/day?api_key=").concat(u,"&page=").concat(e,"&language=ru-RU&include_image_language=en"));case 3:return n=t.sent,a=n.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function d(t,e){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(r.a.mark((function t(e,n){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat(s,"/").concat(n,"/").concat(e,"?api_key=").concat(u,"&language=ru-RU&append_to_response=videos&include_image_language=en"));case 2:return a=t.sent,c=a.data,t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return v.apply(this,arguments)}function v(){return v=Object(c.a)(r.a.mark((function t(){var e,n,a,c=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:1,t.next=3,o.a.get("".concat(s,"/movie/popular?api_key=").concat(u,"&page=").concat(e,"&language=ru-RU&include_image_language=en"));case 3:return n=t.sent,a=n.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function h(){return m.apply(this,arguments)}function m(){return m=Object(c.a)(r.a.mark((function t(){var e,n,a,c=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:1,t.next=3,o.a.get("".concat(s,"/tv/popular?api_key=").concat(u,"&page=").concat(e,"&language=ru-RU&include_image_language=en"));case 3:return n=t.sent,a=n.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function b(t,e){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(r.a.mark((function t(e,n){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat(s,"/").concat(n,"/").concat(e,"/credits?api_key=").concat(u,"&language=ru-RU"));case 2:return a=t.sent,c=a.data,t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t,e){return y.apply(this,arguments)}function y(){return(y=Object(c.a)(r.a.mark((function t(e,n){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat(s,"/").concat(n,"/").concat(e,"/reviews?api_key=").concat(u));case 2:return a=t.sent,c=a.data,t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t){return O.apply(this,arguments)}function O(){return O=Object(c.a)(r.a.mark((function t(e){var n,a,c,i=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:1,t.next=3,o.a.get("".concat(s,"/search/multi?api_key=").concat(u,"&query=").concat(e,"&page=").concat(n,"&language=ru-RU"));case 3:return a=t.sent,c=a.data,t.abrupt("return",c);case 6:case"end":return t.stop()}}),t)}))),O.apply(this,arguments)}},61:function(t,e,n){"use strict";e.a=n.p+"static/media/defaultPoster.de522d98.png"},66:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(0);var a=n(67),r=n.n(a),c=n(1);function i(t){var e=t.loadMore;return Object(c.jsx)("button",{type:"button",className:r.a.loadMore,onClick:function(){return e()},children:"\u0415\u0449\u0435..."})}},67:function(t,e,n){t.exports={loadMore:"LoadMoreButton_loadMore__1fDrE"}},68:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(70);var r=n(71);function c(t){return function(t){if(Array.isArray(t))return Object(a.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(r.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},69:function(t,e,n){"use strict";n(0);var a=n(3),r=n(10),c=n(59),i=n.n(c),o=n(61),s=n(1),u=Object(a.g)((function(t){var e=t.movie,n=t.type,a=t.location,c=e.name||e.title||e.original_name||e.original_title;return Object(s.jsx)(r.b,{to:{pathname:"/movies/".concat(e.id,"/").concat(e.media_type||n),state:{from:a}},children:Object(s.jsx)("li",{className:i.a.item,children:Object(s.jsxs)("div",{className:i.a.overlayBox,children:[e.poster_path?Object(s.jsx)("img",{className:i.a.image,src:"https://image.tmdb.org/t/p/w500/".concat(e.poster_path),alt:c}):Object(s.jsx)("img",{className:i.a.image,src:o.a,alt:c}),Object(s.jsxs)("div",{className:i.a.overlay,children:[Object(s.jsx)("i",{className:"material-icons ".concat(i.a.materialIcons),children:"grade"}),Object(s.jsx)("span",{className:i.a.rating,children:e.vote_average}),Object(s.jsx)("i",{className:"material-icons ".concat(i.a.materialIcons),children:"group"}),Object(s.jsx)("span",{className:i.a.rating,children:e.vote_count})]}),Object(s.jsx)("h2",{className:i.a.name,children:c})]})})})}));e.a=Object(a.g)((function(t){var e=t.movies,n=t.type;return Object(s.jsx)("div",{className:i.a.list,children:e.map((function(t){return Object(s.jsx)(u,{movie:t,type:n},t.id)}))})}))}}]);
//# sourceMappingURL=HomePage.37dc1b04.chunk.js.map